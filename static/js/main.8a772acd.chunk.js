(this["webpackJsonpgithub-people"]=this["webpackJsonpgithub-people"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(73),a(14)),u=a(5),i=a(25),s=(a(78),a(79),a(29)),m=a(56),d=a(7),p=a(21),f=a(4),v="BOOKMARK_ADD",b="BOOKMARK_REMOVE",E="BOOKMARK_RENAME",h={bmkById:[],repos:{}};var g=function(e){var t,a;t="B",a=e,localStorage.setItem(t,JSON.stringify(a))},k=function(){return function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}("B")}(),y=Object(s.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var a=t.payload.id,n=e.bmkById.concat(a),r=Object(f.a)(Object(f.a)({},e.repos),{},Object(p.a)({},a,t.payload));return{bmkById:n,repos:r};case E:var c=t.payload,l=c.id,o=c.newName,u=Object(f.a)(Object(f.a)({},e.repos),{},Object(p.a)({},l,Object(f.a)(Object(f.a)({},e.repos[l]),{},{displayName:o})));return Object(f.a)(Object(f.a)({},e),{},{repos:u});case b:var i=Object.entries(e.repos).filter((function(e){var a=Object(d.a)(e,1)[0];return"bmkById"!==a&&a!==t.payload.id.toString()})),s=Object.fromEntries(i);return{bmkById:e.bmkById.filter((function(e){return e!==t.payload.id})),repos:s};default:return e}}),k,Object(m.composeWithDevTools)());y.subscribe((function(){g(y.getState())}));var O=y;a(80);function j(e){var t=e.text;return r.a.createElement("span",{className:"titlebar-title"},t)}function N(){return r.a.createElement(o.b,{to:"/",className:"titlebar-backbtn util--no-underline",title:"Go Back to Bookmarks"},"<")}function B(){return r.a.createElement(o.b,{to:"/discover",className:"addbmk-btn util--no-underline"},"+ New")}function S(e){var t=e.children;return r.a.createElement("div",{className:"titlebar"},t)}var w=a(22);a(82);function R(e){var t=e.children,a=e.placeholder,n=e.onSearch,c=Object(w.a)(e,["children","placeholder","onSearch"]),l=r.a.useRef(null);return r.a.useEffect((function(){var e;null===(e=l.current)||void 0===e||e.focus()}),[]),r.a.createElement("form",{className:"searchbar",role:"search",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);n("q",t.get("q"))}},r.a.createElement("input",Object.assign({type:"search",name:"q",ref:l,placeholder:a,"aria-label":a,onChange:function(e){var t=e.target.value;n("q",t)}},c)),t,r.a.createElement("button",{className:"btn-plain btn-search"},r.a.createElement("span",{role:"img","aria-label":"Search"},"\ud83d\udd0d")))}var x=a(23);function C(e){var t=e.children,a=Object(w.a)(e,["children"]);return r.a.createElement("div",a,t)}function _(e){var t=e.children,a=e.className,n=Object(w.a)(e,["children","className"]),c="card ".concat(a||"");return r.a.createElement(C,Object.assign({},n,{className:c}),t)}a(83);var A={addBookmark:function(e){return{type:v,payload:e}},removeBookmark:function(e){return{type:b,payload:{id:e}}},renameBookmark:function(e,t){return{type:E,payload:{id:e,newName:t}}}},q=Object(i.b)((function(e,t){return{isBookmarked:!!e.repos[t.data.id]}}),A)((function(e){var t=e.data,a=e.isBookmarked,n=e.addBookmark,c=e.removeBookmark,l=e.renameBookmark,o=r.a.useState(!1),u=Object(d.a)(o,2),i=u[0],s=u[1],m=r.a.useRef(null),p=t.displayName||t.full_name,f=t.displayName&&t.displayName!==t.full_name,v=a?"Remove Bookmark":"Add bookmark",b=a?function(){return c(t.id)}:function(){return n(t)},E=a?"danger":"primary",h=i?"Cancel":"Rename";function g(){var e;l(t.id,(null===(e=m.current)||void 0===e?void 0:e.value)||""),s(!1)}return r.a.useEffect((function(){var e;i&&(null===(e=m.current)||void 0===e||e.focus())}),[i]),r.a.createElement(_,{className:"repo-card"},i?r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g()}},r.a.createElement("input",{style:{width:"100%"},defaultValue:p,ref:m})):r.a.createElement("a",{href:t.html_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"title"},p)),f&&r.a.createElement("small",null,t.full_name),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"mt-1"},i&&r.a.createElement(x.a,{variant:"dark",className:"ml-1",onClick:g},"Set"),a&&r.a.createElement(x.a,{variant:"dark",className:"ml-1",onClick:function(e){e.stopPropagation(),s((function(e){return!e}))}},h),r.a.createElement(x.a,{variant:E,className:"ml-1 add-bmk-btn",onClick:b},v)))}));a(84);function I(){return r.a.createElement("footer",null,r.a.createElement("span",null,"Github Bookmarks"),r.a.createElement("div",null,r.a.createElement("a",{href:"#repo"},"Fork this repo")))}var D=a(108);function F(e){var t=e.children,a=e.variant,n=void 0===a?"primary":a,c=Object(w.a)(e,["children","variant"]);return r.a.createElement(D.a,Object.assign({variant:n},c),t)}a(85);function P(e){var t=e.children;return r.a.createElement("section",{className:"container-wrapper"},t)}function U(e){var t=e.onSearch;return r.a.createElement("header",null,r.a.createElement(S,null,r.a.createElement(j,{text:"Bookmarks"}),r.a.createElement(B,null)),r.a.createElement(R,{placeholder:"Search Bookmarks",onSearch:t}))}var K=Object(i.b)((function(e){return{bookmarkCollection:e}}))((function(e){var t=e.bookmarkCollection,a=r.a.useState(""),n=Object(d.a)(a,2),c=n[0],l=n[1],u=c?t.bmkById.filter((function(e){var a;return(null===(a=t.repos[e].displayName)||void 0===a?void 0:a.toLowerCase().includes(c))||t.repos[e].name.toLowerCase().includes(c)||t.repos[e].full_name.toLowerCase().includes(c)})):t.bmkById;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{onSearch:function(e,t){l(t.toLowerCase())}}),r.a.createElement(P,null,0===u.length?r.a.createElement(F,null,"Bookmarks added from the Discover Page ",r.a.createElement(o.b,{to:"/discover"},"[+ New ]")," will be shown here"):u.map((function(e){return r.a.createElement(q,{key:e,data:t.repos[e]})}))),r.a.createElement(I,null))})),L=a(43),M=a.n(L),T=a(57),H=a(58);function G(){return r.a.createElement(H.a,{animation:"border",className:"spinner-big"})}var J=a(59),z=a.n(J);function V(e){var t=e.src,a=r.a.useState(!1),n=Object(d.a)(a,2),c=n[0],l=n[1],o={display:"none"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"Avatar",style:c?{}:o,src:t,onLoad:function(){return l(!0)}}),r.a.createElement("img",{alt:"fallback avatar",style:c?o:{},src:z.a}))}a(87);function W(e){var t=e.data,a=t.login,n=t.avatar_url;return r.a.createElement(o.b,{className:"user-card-link",to:"/discover/user/".concat(a)},r.a.createElement(_,{className:"user-card"},r.a.createElement("h1",null,a),r.a.createElement(V,{src:n})))}var $=a(109),Q=a(60),X=a(16);function Y(e){var t=e.onNext,a=e.onPrev,n=e.page,c=n.current===n.last,l=1===n.current;return(!c||!l||null)&&r.a.createElement(Q.a,{className:"app-pagination"},r.a.createElement(X.f,{as:x.a,disabled:l,variant:"secondary",onClick:a},"Prev"),r.a.createElement(X.f,{active:!0},n.current),r.a.createElement(X.f,{as:x.a,disabled:c,variant:"secondary",onClick:t},"Next"))}var Z=a(61),ee=a.n(Z);function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",a=null===e||void 0===e?void 0:e.trim();return a&&(a=new URLSearchParams(e.substr(1,e.length-2)).get(t))?parseInt(a):null}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return null;var t=Object.fromEntries(e.split(",").map((function(e){return e.split("; ").reverse()}))),a=te(t['rel="next"']),n=te(t['rel="prev"']),r=te(t['rel="first"']),c=te(t['rel="last"']);return{first:r,prev:n,next:a,last:c}}function ne(e,t){return ee.a.get("".concat("https://api.github.com","/").concat(e),t).then((function(e){return{data:e.data,links:ae(e.headers.link)}}))}var re={getRepoByName:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return ne("repos/".concat(e,"/").concat(t),{params:{page:a,per_page:20}})},getAllReposByName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ne("search/repositories",{params:{q:e,page:t,per_page:20}})},getAllReposByUsername:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ne("users/".concat(e,"/repos"),{params:{page:t,per_page:20}})}};function ce(){var e=Object(u.h)().userName,t=r.a.useState(!!e),a=Object(d.a)(t,2),n=a[0],c=a[1],l=r.a.useState(null),o=Object(d.a)(l,2),i=o[0],s=o[1],m=r.a.useState({current:1,next:1,last:1}),p=Object(d.a)(m,2),v=p[0],b=p[1],E=Object(u.g)(),h=r.a.useState(null===i),g=Object(d.a)(h,2),k=g[0],y=g[1],O=r.a.useState(null),j=Object(d.a)(O,2),N=j[0],B=j[1],S=!k&&0===(null===i||void 0===i?void 0:i.length),w=v.current;return r.a.useEffect((function(){y(!0),B(null),re.getAllReposByUsername(e,w).then((function(e){s(e.data),b((function(t){return Object(f.a)(Object(f.a)({},t),e.links)}))})).catch((function(e){return B(e)})).finally((function(){return y(!1)}))}),[e,w]),r.a.createElement($.a,{size:"lg",show:n,onHide:function(){c(!1),E.goBack()},"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,{id:"example-modal-sizes-title-lg"},"GitHub Repositories of ",e)),r.a.createElement($.a.Body,{style:{minHeight:"80vh"}},k?r.a.createElement(G,null):S?r.a.createElement(F,null,"This user has no public Repositories"):r.a.createElement(r.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(q,{key:e.id,data:e})})),r.a.createElement(Y,{page:v,onNext:function(){return b((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onPrev:function(){return b((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))}})),N&&r.a.createElement(F,{variant:"danger"},N.message)))}var le={getAllUsersByname:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ne("search/users",{params:{q:e,page:t,per_page:20}})}};function oe(){var e,t,a=r.a.useState({type:"repo",data:null}),n=Object(d.a)(a,2),c=n[0],l=n[1],o=r.a.useState({type:"repo",q:""}),i=Object(d.a)(o,2),s=i[0],m=i[1],v=r.a.useState({current:1,next:1,last:1}),b=Object(d.a)(v,2),E=b[0],h=b[1],g=r.a.useRef({type:"",q:""}),k=r.a.useState(!1),y=Object(d.a)(k,2),O=y[0],j=y[1],N=r.a.useState(null),B=Object(d.a)(N,2),S=B[0],w=B[1],R="repo"===c.type?q:W,x=0===(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.length),C=!O&&null===c.data,_=S||C,A=(null===S||void 0===S?void 0:S.message)&&"Error: ".concat(null===S||void 0===S?void 0:S.message)||"Start by searching.",D=(null===S||void 0===S?void 0:S.message)?"danger":"primary",U=E.current;return r.a.useEffect((function(){var e=setTimeout((function(){function e(){return(e=Object(T.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"!==s.type){e.next=2;break}return e.abrupt("return",le.getAllUsersByname(s.q,U));case 2:return e.abrupt("return",re.getAllReposByName(s.q,U));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==s.q&&(j(!0),w(null),function(){return e.apply(this,arguments)}().then((function(e){l({type:s.type,data:e.data.items}),h((function(t){return Object(f.a)(Object(f.a)({},t),e.links)}))})).catch((function(e){return w(e)})).finally((function(){j(!1),g.current=s})))}),1===U?900:0);return function(){return clearTimeout(e)}}),[s,U]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{search:s,onSearch:function(e,t){s.type!==e&&h((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:1})})),m((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(p.a)({},e,t))}))}}),r.a.createElement(P,null,_&&r.a.createElement(F,{variant:D},A),O?r.a.createElement(G,null):x?r.a.createElement(F,null,'No results found for "',s.q,'".'):r.a.createElement(r.a.Fragment,null,null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.map((function(e){return r.a.createElement(R,{key:e.id,data:e})})),r.a.createElement(Y,{page:E,onNext:function(){return h((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onPrev:function(){return h((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))}}))),r.a.createElement(u.b,{path:"/discover/user/:userName"},r.a.createElement(ce,null)),r.a.createElement(I,null))}function ue(e){var t=e.search,a=e.onSearch,n="repo"===t.type?"Repositories":"Usernames";return r.a.createElement("header",null,r.a.createElement(S,null,r.a.createElement(N,null),r.a.createElement(j,{text:"Discover"})),r.a.createElement(R,{placeholder:"Search GitHub for ".concat(n),onSearch:a},r.a.createElement("select",{name:"type",title:"Search by Type",defaultValue:"repo",onChange:function(e){var t=e.target,n=t.name,r=t.value;a(n,r)}},r.a.createElement("option",{value:"user"},"Username"),r.a.createElement("option",{value:"repo"},"Repository"))))}var ie=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{store:O},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:K}),r.a.createElement(u.b,{path:"/discover",component:oe}),r.a.createElement(u.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,a){e.exports=a.p+"static/media/user-icon.f9f26790.png"},68:function(e,t,a){e.exports=a(106)},73:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.8a772acd.chunk.js.map